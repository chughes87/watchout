<!DOCTYPE html>
<meta charset="utf-8">
<html> 
	<head>
		<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.1/underscore-min.js"></script>
		<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/d3/2.7.4/d3.min.js"></script>
		<script src="collider.js"></script>
		<link href="style.css" rel="stylesheet"></link>
	</head>
	<body>
		<script>
			var width = 500;
			var height = 500;
			var randPositions;

			var svg = d3.select('body').append('svg')
						.attr('width', width)
						.attr('height', height);
	
			var update = function(data){
				var enemies = d3.select('svg').selectAll('circle').data(data);

				//enemies.attr("class", "update");

				enemies.enter().append("circle")
				      .attr("class", "enemy")
				      .attr("r", 5)
				      .attr("cx", function(d) { return d[0]; })
				      .attr("cy", function(d) { return d[1]; });

				enemies.exit().remove();
			};

			setInterval(function(){
				randPositions = _.range(0,20).map(function(item){
					return [Math.random()*width, Math.random()*height];
				});
				update(randPositions);
			}, 1000);
		</script>
	</body>
</html>